<h1><%= @product.name %></h1>

<div class='card' style="width: 12rem;">
   <%= image_tag @product.cover_image, class: 'card-img-top' %>
   <p class='card-title'><%= @product.name%></p>
   <p class='card-subtitle'><%= number_to_currency @product.price %></p>
   <div class="card-body">
     <%=form_for @order_item, remote: true do |f| %>
       <div class="card-form-container add-to-cart-btn">
         <div class="form-group container products_cards">
           <%= f.hidden_field :product_id, value: @product.id %>
           <%= f.number_field :quantity, class: 'form-control quantity-input' %>
           <%= f.submit "Add to cart", class: 'btn btn-primary', id: "product#{@product.id}", remote: true %>
         </div>
       </div>
     <% end %>
     <%= form_for @product, remote: true do |f| %>
       <%= f.hidden_field :product_id, value: @product.id %>
       <%= f.submit 'Save', class: 'btn btn-secondary', id: "product#{@product.id}_save", remote: true %>
     <% end %>
   </div>
 </div>

<% if current_user %>
 <div class="reviews_form">
   <h2>Add A Review</h2>
   <%=form_for @review, remote: true do |f| %>
     <div class="">
       <div class="form-group">
         <%= f.hidden_field :product_id, value: @product.id %>
         <%= f.text_field :content, class: 'form-control' %>
         <%= f.select(:rating, options_for_select([['1 Star', 1], ['2 Stars', 2], ['3 Stars', 3], ['4 Stars', 4], ['5 Stars', 5]], 5)) %>
         <%= f.submit "Add Review", class: 'btn btn-primary', id: "submit_review", remote: true %>
       </div>
     </div>
   <% end %>
 </div>
 <% else %>
 <div class="container sign_in_container">
   <p>Please sign in to post a review.</p>
   <%= link_to 'Log In', new_user_session_path, class: 'btn btn-primary' %>
 </div>
 <% end %>

 <div class="posted_reviews">
   <%= page_entries_info @reviews %>
 <% @reviews.each do |review| %>
  <p><%= review.content %></p>
  <p><%= review.user.email %></p>
  <% end %>
  <%= will_paginate @reviews, :style => 'color:green' %>
 </div>
